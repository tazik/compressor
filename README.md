# Архиватор
### Реализация алгоритма арифметического сжатия текстовыйх файлов

1. Описание алгоритма арифметического сжатия
2. Интерфейс программы 
3. Структура программы
4. Результаты сжатия

### Описание алгоритма арифметического сжатия
#### Кодирование
  Пусть имеется некий алфавит, а также данные о частотности использования символов. Тогда рассмотрим на координатной прямой отрезок от 0 до 1.
  
  Назовём этот отрезок рабочим. Расположим на нём точки таким образом, что длины образованных отрезков будут равны частоте использования символа, и каждый такой отрезок будет соответствовать одному символу.
  
  Теперь возьмём символ из потока и найдём для него отрезок среди только что сформированных, теперь отрезок для этого символа стал рабочим. Разобьём его таким же образом, как разбили отрезок [0, 1]. Выполним эту операцию для некоторого числа последовательных символов. Затем выберем любое число из рабочего отрезка. Биты этого числа вместе с длиной его битовой записи и есть результат арифметического кодирования использованных символов потока.
  
#### Декодирование
  Зная данные о частотности использования символов, мы легко можем определить первый символ исходного сообщения. 
  
  Давайте посмотрим какое число было получено в результате кодирования и разобьем [0, 1] так же, как в алгоритме кодирования. Чтобы определить какой символ получается при декодировании, нужно посмотреть в какой из отрезко разбиения попоадает наше число.Таким образом мы получили первый символ исходного сообщения. 
  Теперь перейдем к новому рабочему отрезку, который соответствует первому символу. Продолжая алгоритм, получим исходной сообщение.
  
#### Увеличение степини сжатия
  ###### Проблемы приведенного алгоритма:
  1. Нужно хранить таблицу частотности символов в тексте
  2. В случае,если текст не является однордным степень сжатия уменьшается. Неоднородный текст - это текст, в котором частотность использования символов значительно отличается в разных фрагментах текста.
  ###### Способы решения данных проблем:
  1. Можно не хранить таблицу частотности символов, а вычислять ее по ходу кодирования. При декодировании таблица восстанавиливается аналогично.
  2. Чтобы бороться с неоднородностью текста, разобем его на блоки и будем вычислять вероятности для этих фрагментов независимо.
  
### Интерфейс программы
##### Архивирование файла
  В аргументах командной строки передаются:
  1. 'c' - compressor
  2. Путь к архивриуемому файлу
  3. Путь к файлу, в котором будет храниться закодированный файл. 
##### Деархивирование файла
  В аргументах командной строки передаются:
  1. 'd' - decompressor
  2. Путь к разархивриуемому файлу
  3. Путь к файлу, в котором будет храниться раскодированный файл.
  
### Структура программы
##### Основные функции:
  1. `void compress_ari(char *ifile, char *ofile)` - функция, кодирующая файл
  2. `void decompress_ari(char *ifile, char *ofile)` - функция, декодирующая файл
  
##### Классы:
  1. `class Fileread` - Класс для чтения из бинарными файлами
  2. `class Filewrite` - Класс для записи в бинарный файл
  3. `class Probability` - Класс для вычисления распределения вероятности
  4. `class Compressor` - Класс, реализуюший сжатие
  5. `class Decompressor` - Класс, реализующий декодирование
 

 
